trigger:
  batch: true
  branches:
    include:
    - main
    - release/*
    - internal/release/*
    - experimental/*

pr:
- main
- release/*
- experimental/*

name: $(Date:yyyyMMdd)$(Rev:.r)

variables:
  - name: TeamName
    value: dotnet-core-acquisition
  # Skip Running CI tests
  - name: SkipTests
    value: false

  # Set the target blob feed for package publish during official and validation builds.
  - name: _DotNetArtifactsCategory
    value: .NETCore
  - name: _DotNetValidationArtifactsCategory
    value: .NETCoreValidation

  # Produce test-signed build for PR and Public builds
  - name: SignType
    value: test

stages:
- stage: Build
  jobs:
  - template: /eng/pipelines/jobs/windows-build-PR.yml
    parameters:
      name: windowsdesktop-pr
      displayName: WindowsDesktop PR Build
      jobStrategy:
        matrix:
          win_x64_Debug:
            _BuildConfig: Debug
            TargetArchitecture: x64
          win_x64_Release:
            _BuildConfig: Release
            TargetArchitecture: x64
          win_x86_Debug:
            _BuildConfig: Debug
            TargetArchitecture: x86
          win_x86_Release:
            _BuildConfig: Release
            TargetArchitecture: x86
          win_arm64_Debug:
            _BuildConfig: Debug
            TargetArchitecture: arm64
          win_arm64_Release:
            _BuildConfig: Release
            TargetArchitecture: arm64
